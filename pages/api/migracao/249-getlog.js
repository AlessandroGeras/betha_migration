const dotenv = require('dotenv');
const fetch = require('node-fetch');
const fs = require('fs');

dotenv.config();

const token = '1d12dec7-0720-4b34-a2e5-649610d10806';
const ids = [
    "67165869aae115563237cd01",
    "6716586ad28af400522f62e2",
    "6716586aaae115563237cd03",
    "6716586ad28af400522f62e4",
    "6716586aaae115563237cd05",
    "6716586ad28af400522f62e6",
    "6716586aaae115563237cd07",
    "6716586bd28af400522f62e8",
    "6716586baae115563237cd09",
    "6716586bd28af400522f62ea",
    "6716586baae115563237cd0b",
    "6716586bd28af400522f62ec",
    "6716586baae115563237cd0d",
    "6716586cd28af400522f62ee",
    "6716586caae115563237cd0f",
    "6716586cd28af400522f62f0",
    "6716586caae115563237cd11",
    "6716586cd28af400522f62f2",
    "6716586caae115563237cd13",
    "6716586dd28af400522f62f4",
    "6716586daae115563237cd15",
    "6716586dd28af400522f62f6",
    "6716586daae115563237cd17",
    "6716586dd28af400522f62f8",
    "6716586daae115563237cd19",
    "6716586ed28af400522f62fa",
    "6716586eaae115563237cd1b",
    "6716586ed28af400522f62fc",
    "6716586eaae115563237cd1d",
    "6716586ed28af400522f62fe",
    "6716586eaae115563237cd1f",
    "6716586ed28af400522f6300",
    "6716586faae115563237cd21",
    "6716586fd28af400522f6302",
    "6716586faae115563237cd23",
    "6716586fd28af400522f6304",
    "6716586faae115563237cd25",
    "6716586fd28af400522f6306",
    "67165870aae115563237cd27",
    "67165870d28af400522f6308",
    "67165870aae115563237cd29",
    "67165870d28af400522f630a",
    "67165870aae115563237cd2b",
    "67165870d28af400522f630c",
    "67165871aae115563237cd2d",
    "67165871d28af400522f630e",
    "67165871aae115563237cd2f",
    "67165871d28af400522f6310",
    "67165871aae115563237cd31",
    "67165871d28af400522f6312",
    "67165872aae115563237cd33",
    "67165872d28af400522f6314",
    "67165872aae115563237cd35",
    "67165872d28af400522f6316",
    "67165872aae115563237cd37",
    "67165872d28af400522f6318",
    "67165873aae115563237cd39",
    "67165873d28af400522f631a",
    "67165873aae115563237cd3b",
    "67165873d28af400522f631c",
    "67165873aae115563237cd3d",
    "67165873d28af400522f631e",
    "67165874aae115563237cd3f",
    "67165874d28af400522f6320",
    "67165874aae115563237cd41",
    "67165874d28af400522f6322",
    "67165874aae115563237cd43",
    "67165874d28af400522f6324",
    "67165875aae115563237cd45",
    "67165875d28af400522f6326",
    "67165875aae115563237cd47",
    "67165875d28af400522f6328",
    "67165875aae115563237cd49",
    "67165875d28af400522f632a",
    "67165876aae115563237cd4b",
    "67165876d28af400522f632c",
    "67165876aae115563237cd4d",
    "67165876d28af400522f632e",
    "67165876aae115563237cd4f",
    "67165876d28af400522f6330",
    "67165877aae115563237cd51",
    "67165877d28af400522f6332",
    "67165877aae115563237cd53",
    "67165877d28af400522f6334",
    "67165877aae115563237cd55",
    "67165877d28af400522f6336",
    "67165878aae115563237cd57",
    "67165878d28af400522f6338",
    "67165878aae115563237cd59",
    "67165878d28af400522f633a",
    "67165878aae115563237cd5b",
    "67165878d28af400522f633c",
    "67165879aae115563237cd5d",
    "67165879d28af400522f633e",
    "67165879aae115563237cd5f",
    "67165879d28af400522f6340",
    "67165879aae115563237cd61",
    "67165879d28af400522f6342",
    "6716587aaae115563237cd63",
    "6716587ad28af400522f6344",
    "6716587aaae115563237cd65",
    "6716587ad28af400522f6346",
    "6716587aaae115563237cd67",
    "6716587ad28af400522f6348",
    "6716587baae115563237cd69",
    "6716587bd28af400522f634a",
    "6716587baae115563237cd6b",
    "6716587bd28af400522f634c",
    "6716587baae115563237cd6d",
    "6716587bd28af400522f634e",
    "6716587baae115563237cd6f",
    "6716587cd28af400522f6350",
    "6716587caae115563237cd71",
    "6716587cd28af400522f6352",
    "6716587caae115563237cd73",
    "6716587cd28af400522f6354",
    "6716587caae115563237cd75",
    "6716587dd28af400522f6356",
    "6716587daae115563237cd77",
    "6716587dd28af400522f6358",
    "6716587daae115563237cd79",
    "6716587dd28af400522f635a",
    "6716587daae115563237cd7b",
    "6716587ed28af400522f635c",
    "6716587eaae115563237cd7d",
    "6716587ed28af400522f635e",
    "6716587eaae115563237cd7f",
    "6716587ed28af400522f6360",
    "6716587eaae115563237cd81",
    "6716587fd28af400522f6362",
    "6716587faae115563237cd83",
    "6716587fd28af400522f6364",
    "6716587faae115563237cd85",
    "6716587fd28af400522f6366",
    "6716587faae115563237cd87",
    "67165880d28af400522f6368",
    "67165880aae115563237cd89",
    "67165880aae115563237cd8b",
    "67165880d28af400522f639d",
    "67165880aae115563237cd8d",
    "67165880d28af400522f639f",
    "67165881aae115563237cd8f",
    "67165881d28af400522f63a1",
    "67165881aae115563237cd91",
    "67165881d28af400522f63a3",
    "67165881aae115563237cd93",
    "67165881d28af400522f63a5",
    "67165882aae115563237cd95",
    "67165882d28af400522f63a7",
    "67165882aae115563237cd97",
    "67165882d28af400522f63a9",
    "67165882aae115563237cd99",
    "67165882d28af400522f63ab",
    "67165882aae115563237cd9b",
    "67165883d28af400522f63ad",
    "67165883aae115563237cd9d",
    "67165883d28af400522f63af",
    "67165883aae115563237cd9f",
    "67165883d28af400522f63b1",
    "67165883aae115563237cda1",
    "67165884d28af400522f63b3",
    "67165884aae115563237cda3",
    "67165884d28af400522f63b5",
    "67165884aae115563237cda5",
    "67165884d28af400522f63b7",
    "67165884aae115563237cda7",
    "67165885d28af400522f63b9",
    "67165885aae115563237cda9",
    "67165885d28af400522f63bb",
    "67165885aae115563237cdab",
    "67165885d28af400522f63bd",
    "67165886aae115563237cdad",
    "67165886d28af400522f63bf",
    "67165886aae115563237cdaf",
    "67165886d28af400522f63c1",
    "67165886aae115563237cdb1",
    "67165886d28af400522f63c3",
    "67165887aae115563237cdb3",
    "67165887d28af400522f63c5",
    "67165887aae115563237cdb5",
    "67165887d28af400522f63c7",
    "67165887aae115563237cdb7",
    "67165887d28af400522f63c9",
    "67165888aae115563237cdb9",
    "67165888d28af400522f63cb",
    "67165888aae115563237cdbb",
    "67165888d28af400522f63cd",
    "67165888aae115563237cdbd",
    "67165888d28af400522f63cf",
    "67165889aae115563237cdbf",
    "67165889d28af400522f63d1",
    "67165889aae115563237cdc1",
    "67165889d28af400522f63d3",
    "67165889aae115563237cdc3",
    "67165889d28af400522f63d5",
    "6716588aaae115563237cdc5",
    "6716588ad28af400522f63d7",
    "6716588aaae115563237cdc7",
    "6716588ad28af400522f63d9",
    "6716588aaae115563237cdc9",
    "6716588ad28af400522f63db",
    "6716588aaae115563237cdcb",
    "6716588bd28af400522f63dd",
    "6716588baae115563237cdcd",
    "6716588bd28af400522f63df",
    "6716588baae115563237cdcf",
    "6716588bd28af400522f63e1",
    "6716588caae115563237cdd1",
    "6716588cd28af400522f63e3",
    "6716588caae115563237cdd3",
    "6716588cd28af400522f63e5",
    "6716588caae115563237cdd5",
    "6716588dd28af400522f63e7",
    "6716588daae115563237cdd7",
    "6716588dd28af400522f63e9",
    "6716588daae115563237cdd9",
    "6716588dd28af400522f63eb",
    "6716588daae115563237cddb",
    "6716588ed28af400522f63ed",
    "6716588eaae115563237cddd",
    "6716588ed28af400522f63ef",
    "6716588eaae115563237cddf",
    "6716588ed28af400522f63f1",
    "6716588faae115563237cde1",
    "6716588fd28af400522f63f3",
    "6716588faae115563237cde3",
    "6716588fd28af400522f63f5",
    "6716588faae115563237cde5",
    "6716588fd28af400522f63f7",
    "67165890aae115563237cde7",
    "67165890d28af400522f63f9",
    "67165890aae115563237cde9",
    "67165890d28af400522f63fb",
    "67165890aae115563237cdeb",
    "67165891d28af400522f63fd",
    "67165891aae115563237cded",
    "67165891d28af400522f63ff",
    "67165891aae115563237cdef",
    "67165891d28af400522f6401",
    "67165891aae115563237cdf1",
    "67165892d28af400522f6403",
    "67165892aae115563237cdf3",
    "67165892d28af400522f6405",
    "67165892aae115563237cdf5",
    "67165892d28af400522f6407",
    "67165893aae115563237cdf7",
    "67165893d28af400522f6409",
    "67165893aae115563237cdf9",
    "67165893d28af400522f640b",
    "67165893aae115563237cdfb",
    "67165893d28af400522f640d",
    "67165894aae115563237cdfd",
    "67165894d28af400522f640f",
    "67165894aae115563237cdff",
    "67165894d28af400522f6411",
    "67165894aae115563237ce01",
    "67165895d28af400522f6413",
    "67165895aae115563237ce03",
    "67165895d28af400522f6415",
    "67165895aae115563237ce05",
    "67165896d28af400522f6417",
    "67165896aae115563237ce07",
    "67165896d28af400522f6419",
    "67165896aae115563237ce0b",
    "67165896d28af400522f641b",
    "67165897aae115563237ce0d",
    "67165897d28af400522f641d",
    "67165897aae115563237ce0f",
    "67165897d28af400522f641f",
    "67165897aae115563237ce11",
    "67165897d28af400522f6421",
    "67165898aae115563237ce13",
    "67165898d28af400522f6423",
    "67165898aae115563237ce15",
    "67165898d28af400522f6425",
    "67165898aae115563237ce17",
    "67165898d28af400522f6427",
    "67165899aae115563237ce19",
    "67165899d28af400522f6429",
    "67165899aae115563237ce1b",
    "67165899d28af400522f642b",
    "67165899aae115563237ce1d",
    "67165899d28af400522f642d",
    "6716589aaae115563237ce1f",
    "6716589ad28af400522f642f",
    "6716589aaae115563237ce21",
    "6716589ad28af400522f6431",
    "6716589aaae115563237ce23",
    "6716589bd28af400522f6433",
    "6716589baae115563237ce25",
    "6716589bd28af400522f6435",
    "6716589baae115563237ce27",
    "6716589bd28af400522f6437",
    "6716589baae115563237ce29",
    "6716589cd28af400522f6439",
    "6716589caae115563237ce2b",
    "6716589cd28af400522f643b",
    "6716589caae115563237ce2d",
    "6716589cd28af400522f643d",
    "6716589caae115563237ce2f",
    "6716589dd28af400522f643f",
    "6716589daae115563237ce31",
    "6716589dd28af400522f6441",
    "6716589daae115563237ce33",
    "6716589dd28af400522f6443",
    "6716589daae115563237ce35",
    "6716589ed28af400522f6445",
    "6716589eaae115563237ce37",
    "6716589ed28af400522f6447",
    "6716589eaae115563237ce39",
    "6716589ed28af400522f6449",
    "6716589eaae115563237ce3b",
    "6716589fd28af400522f644b",
    "6716589faae115563237ce3d",
    "6716589fd28af400522f644d",
    "6716589faae115563237ce3f",
    "6716589fd28af400522f644f",
    "6716589faae115563237ce41",
    "671658a0d28af400522f6451",
    "671658a0aae115563237ce43",
    "671658a0d28af400522f6453",
    "671658a0aae115563237ce45",
    "671658a0d28af400522f6455",
    "671658a0d28af400522f6457",
    "671658a1aae115563237ce47",
    "671658a1d28af400522f6459",
    "671658a1aae115563237ce49",
    "671658a1d28af400522f645b",
    "671658a1aae115563237ce4b",
    "671658a1d28af400522f645d",
    "671658a2aae115563237ce4d",
    "671658a2d28af400522f645f",
    "671658a2aae115563237ce4f",
    "671658a2d28af400522f6461",
    "671658a2aae115563237ce51",
    "671658a2d28af400522f6463",
    "671658a3aae115563237ce53",
    "671658a3d28af400522f6465",
    "671658a3aae115563237ce55",
    "671658a3d28af400522f6467",
    "671658a3aae115563237ce57",
    "671658a3d28af400522f6469",
    "671658a4aae115563237ce59",
    "671658a4d28af400522f646b",
    "671658a4aae115563237ce5b",
    "671658a4d28af400522f646d",
    "671658a4aae115563237ce5d",
    "671658a4d28af400522f646f",
    "671658a4aae115563237ce5f",
    "671658a5d28af400522f6471",
    "671658a5aae115563237ce61",
    "671658a5d28af400522f6473",
    "671658a5aae115563237ce63",
    "671658a5d28af400522f6475",
    "671658a5aae115563237ce65",
    "671658a6d28af400522f6477",
    "671658a6aae115563237ce67",
    "671658a6d28af400522f6479",
    "671658a6aae115563237ce69",
    "671658a6d28af400522f647b",
    "671658a6aae115563237ce6b",
    "671658a7d28af400522f647d",
    "671658a7aae115563237ce6d",
    "671658a7d28af400522f647f",
    "671658a7aae115563237ce6f",
    "671658a7d28af400522f6481",
    "671658a7aae115563237ce71",
    "671658a8d28af400522f6483",
    "671658a8aae115563237ce73",
    "671658a8d28af400522f6485",
    "671658a8aae115563237ce75",
    "671658a8d28af400522f6487",
    "671658a8aae115563237ce77",
    "671658a9d28af400522f6489",
    "671658a9aae115563237ce79",
    "671658a9d28af400522f648b",
    "671658a9aae115563237ce7b",
    "671658a9d28af400522f648d",
    "671658a9aae115563237ce7d",
    "671658aad28af400522f648f",
    "671658aaaae115563237ce7f",
    "671658aad28af400522f6491",
    "671658aaaae115563237ce81",
    "671658aad28af400522f6493",
    "671658aaaae115563237ce83",
    "671658abd28af400522f6495",
    "671658abaae115563237ce85",
    "671658abd28af400522f6497",
    "671658abaae115563237ce87",
    "671658abd28af400522f6499",
    "671658abaae115563237ce89",
    "671658abd28af400522f649b",
    "671658acaae115563237ce8b",
    "671658acd28af400522f649d",
    "671658acaae115563237ce8d",
    "671658acd28af400522f649f",
    "671658acaae115563237ce8f",
    "671658acd28af400522f64a1",
    "671658adaae115563237ce91",
    "671658add28af400522f64a3",
    "671658adaae115563237ce93",
    "671658add28af400522f64a5",
    "671658adaae115563237ce95",
    "671658add28af400522f64a7",
    "671658aeaae115563237ce97",
    "671658aed28af400522f64a9",
    "671658aeaae115563237ce99",
    "671658aed28af400522f64ab",
    "671658aeaae115563237ce9b",
    "671658aed28af400522f64ad",
    "671658afaae115563237ce9d",
    "671658baaae115563237ce9f",
    "671658bad28af400522f64b1",
    "671658baaae115563237cea1",
    "671658bad28af400522f64b3",
    "671658bbaae115563237cea3",
    "671658bbd28af400522f64b5",
    "671658bbaae115563237cea5",
    "671658bbd28af400522f64b7",
    "671658bbaae115563237cea7",
    "671658bbd28af400522f64b9",
    "671658bbaae115563237cea9",
    "671658bcd28af400522f64bb",
    "671658bcaae115563237ceab",
    "671658bcd28af400522f64bd",
    "671658bcaae115563237cead",
    "671658bcd28af400522f64bf",
    "671658bcaae115563237ceaf",
    "671658bdd28af400522f64c1",
    "671658bdaae115563237ceb1",
    "671658bdd28af400522f64c3",
    "671658bdaae115563237ceb3",
    "671658bdd28af400522f64c5",
    "671658bdaae115563237ceb5",
    "671658bed28af400522f64c7",
    "671658beaae115563237ceb7",
    "671658bed28af400522f64c9",
    "671658beaae115563237ceb9",
    "671658bed28af400522f64cb",
    "671658beaae115563237cebb",
    "671658bfd28af400522f64cd",
    "671658bfaae115563237cebd",
    "671658bfd28af400522f64cf",
    "671658bfaae115563237cebf",
    "671658bfd28af400522f64d1",
    "671658bfaae115563237cec1",
    "671658c0d28af400522f64d3",
    "671658c0aae115563237cec3",
    "671658c0d28af400522f64d5",
    "671658c0aae115563237cec5",
    "671658c0d28af400522f64d7",
    "671658c0aae115563237cec7",
    "671658c1d28af400522f64d9",
    "671658c1aae115563237cec9",
    "671658c1d28af400522f64db",
    "671658c1aae115563237cecb",
    "671658c1d28af400522f64dd",
    "671658c1aae115563237cecd",
    "671658c2d28af400522f64df",
    "671658c2aae115563237cecf",
    "671658c2d28af400522f64e1",
    "671658c2aae115563237ced1",
    "671658c2d28af400522f64e3",
    "671658c3aae115563237ced3",
    "671658c3d28af400522f64e5",
    "671658c3aae115563237ced5",
    "671658c3d28af400522f64e7",
    "671658c3aae115563237ced7",
    "671658c3d28af400522f64e9",
    "671658c4aae115563237ced9",
    "671658c4d28af400522f64eb",
    "671658c4aae115563237cedb",
    "671658c4d28af400522f64ed",
    "671658c4aae115563237cedd",
    "671658c4d28af400522f64ef",
    "671658c5aae115563237cedf",
    "671658c5d28af400522f64f1",
    "671658c5aae115563237cee1",
    "671658c5d28af400522f64f3",
    "671658c5aae115563237cee3",
    "671658c5d28af400522f64f5",
    "671658c5aae115563237cee5",
    "671658c6d28af400522f64f7",
    "671658c6aae115563237cee7",
    "671658c6d28af400522f64f9",
    "671658c6aae115563237cee9",
    "671658c6d28af400522f64fb",
    "671658c6aae115563237ceeb",
    "671658c7d28af400522f64fd",
    "671658c7aae115563237ceed",
    "671658c7d28af400522f64ff",
    "671658c7aae115563237ceef",
    "671658c7d28af400522f6501",
    "671658c7aae115563237cef1",
    "671658c8aae115563237cef3",
    "671658c8d28af400522f66f8",
    "671658c8d28af400522f66fa",
    "671658c8aae115563237cff0",
    "671658c8aae115563237cff2",
    "671658c8d28af400522f6751",
    "671658c9aae115563237cff4",
    "671658c9d28af400522f6753",
    "671658c9aae115563237cff6",
    "671658c9d28af400522f6755",
    "671658c9aae115563237cff8",
    "671658c9d28af400522f6757",
    "671658caaae115563237cffa",
    "671658cad28af400522f6759",
    "671658caaae115563237cffc",
    "671658cad28af400522f675b",
    "671658caaae115563237cffe",
    "671658cad28af400522f675d",
    "671658cbaae115563237d000",
    "671658cbd28af400522f675f",
    "671658cbaae115563237d002",
    "671658cbd28af400522f6761",
    "671658cbaae115563237d004",
    "671658cbd28af400522f6763",
    "671658ccaae115563237d006",
    "671658ccd28af400522f6765",
    "671658ccaae115563237d008",
    "671658ccd28af400522f6767",
    "671658ccaae115563237d00a",
    "671658ccd28af400522f6769",
    "671658cdaae115563237d00c",
    "671658cdd28af400522f676b",
    "671658cdaae115563237d00e",
    "671658cdd28af400522f676d",
    "671658cdaae115563237d010",
    "671658cdd28af400522f676f",
    "671658ceaae115563237d012",
    "671658ced28af400522f6771",
    "671658ceaae115563237d014",
    "671658ced28af400522f6773",
    "671658ceaae115563237d016",
    "671658ced28af400522f6775",
    "671658cfaae115563237d018",
    "671658cfd28af400522f6777",
    "671658cfaae115563237d01a",
    "671658cfd28af400522f6779",
    "671658cfaae115563237d01c",
    "671658d0d28af400522f677b",
    "671658d0aae115563237d01e",
    "671658d0d28af400522f677d",
    "671658d0aae115563237d020",
    "671658d0d28af400522f677f",
    "671658d0aae115563237d022",
    "671658d1d28af400522f6781",
    "671658d1aae115563237d024",
    "671658d1d28af400522f6783",
    "671658d1aae115563237d026",
    "671658d1d28af400522f6785",
    "671658d1aae115563237d028",
    "671658d1d28af400522f6787",
    "671658d2aae115563237d02a",
    "671658d2d28af400522f6789",
    "671658d2aae115563237d02c",
    "671658d2d28af400522f678b",
    "671658d2aae115563237d02e",
    "671658d2d28af400522f678d",
    "671658d3aae115563237d030",
    "671658d3d28af400522f678f",
    "671658d3aae115563237d032",
    "671658d3d28af400522f6791",
    "671658d3aae115563237d034",
    "671658d3d28af400522f6793",
    "671658d4aae115563237d036",
    "671658d4d28af400522f6795",
    "671658d4aae115563237d038",
    "671658d4d28af400522f6797",
    "671658d4aae115563237d03a",
    "671658d4d28af400522f6799",
    "671658d5aae115563237d03c",
    "671658d5d28af400522f679b",
    "671658d5aae115563237d03e",
    "671658d5d28af400522f679d",
    "671658d5aae115563237d040",
    "671658d5d28af400522f679f",
    "671658d6aae115563237d042",
    "671658d6d28af400522f67a1",
    "671658d6aae115563237d044",
    "671658d6d28af400522f67a3",
    "671658d6aae115563237d046",
    "671658d6d28af400522f67a5",
    "671658d7aae115563237d048",
    "671658d7d28af400522f67a7",
    "671658d7aae115563237d04a",
    "671658d7d28af400522f67a9",
    "671658d7aae115563237d04c",
    "671658d7d28af400522f67ab",
    "671658d8aae115563237d04e",
    "671658d8d28af400522f67ad",
    "671658d8aae115563237d050",
    "671658d8d28af400522f67af",
    "671658d8aae115563237d052",
    "671658d8d28af400522f67b1",
    "671658d9aae115563237d054",
    "671658d9d28af400522f67b3",
    "671658d9aae115563237d056",
    "671658d9d28af400522f67b5",
    "671658d9aae115563237d058",
    "671658d9d28af400522f67b7",
    "671658daaae115563237d05a",
    "671658dad28af400522f67b9",
    "671658daaae115563237d05c",
    "671658dad28af400522f67bb",
    "671658daaae115563237d05e",
    "671658dad28af400522f67bd",
    "671658dbaae115563237d060",
    "671658dbd28af400522f67bf",
    "671658dbaae115563237d062",
    "671658dbd28af400522f67c1",
    "671658dbaae115563237d064",
    "671658dbd28af400522f67c3",
    "671658dcaae115563237d066",
    "671658dcd28af400522f67c5",
    "671658dcaae115563237d068",
    "671658dcd28af400522f67c7",
    "671658dcaae115563237d06a",
    "671658dcd28af400522f67c9",
    "671658dcaae115563237d06c",
    "671658ddd28af400522f67cb",
    "671658ddaae115563237d06e",
    "671658ddd28af400522f67cd",
    "671658ddaae115563237d070",
    "671658ddaae115563237d072",
    "671658ddaae115563237d074",
    "671658deaae115563237d076",
    "671658ded28af400522f67cf",
    "671658ded28af400522f67d1",
    "671658ded28af400522f67d3",
    "671658ded28af400522f67d5",
    "671658deaae115563237d078",
    "671658dfd28af400522f67d7",
    "671658dfd28af400522f67d9",
    "671658dfaae115563237d07a",
    "671658dfaae115563237d07c",
    "671658dfaae115563237d07e",
    "671658dfd28af400522f67db",
    "671658e0d28af400522f67dd",
    "671658e0d28af400522f67df",
    "671658e0d28af400522f67e1",
    "671658e0d28af400522f67e3",
    "671658e0aae115563237d080",
    "671658e0d28af400522f67e5",
    "671658e1aae115563237d082",
    "671658e1d28af400522f67e7",
    "671658e1aae115563237d084",
    "671658e1d28af400522f67e9",
    "671658e1d28af400522f67eb",
    "671658e1aae115563237d086",
    "671658e2d28af400522f67ed",
    "671658e2d28af400522f67ef",
    "671658e2d28af400522f67f1",
    "671658e2d28af400522f67f3",
    "671658e2aae115563237d088",
    "671658e2d28af400522f67f5",
    "671658e3d28af400522f67f7",
    "671658e3d28af400522f67f9",
    "671658e3d28af400522f67fb",
    "671658e3aae115563237d08a",
    "671658e3d28af400522f67fd",
    "671658e3d28af400522f67ff",
    "671658e4d28af400522f6801",
    "671658e4d28af400522f6803",
    "671658e4aae115563237d08c",
    "671658e4aae115563237d08e",
    "671658e4d28af400522f6805",
    "671658e4aae115563237d090",
    "671658e5aae115563237d092",
    "671658e5d28af400522f6807",
    "671658e5aae115563237d094"
  ];

  async function fetchAndSaveData(ids) {
    try {
        const apiUrlBase = 'https://tributos.betha.cloud/service-layer-tributos/api/imoveis';
        const headers = {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}`
        };

        let results = [];

        for (let id of ids) {
            // Construir a URL dinamicamente com o ID
            const apiUrl = `${apiUrlBase}${id}`;

            // Fazer a requisição para a API para cada ID
            const response = await fetch(apiUrl, { headers });

            if (!response.ok) {
                throw new Error(`Erro ao acessar a API para o ID ${id}: ${response.statusText}`);
            }

            const data = await response.json();

            // Verifica se há mensagens de erro e extrai o campo "mensagem" se existir
            const mensagens = data.retorno && data.retorno.length > 0
                ? data.retorno
                    .map(item => item.mensagem)
                    .filter(msg => 
                        msg !== "Já existe uma pessoa com este PIS" &&
                        msg !== "Já existe outra pessoa com este CPF" &&
                        msg !== null &&
                        msg !== "Já existe outra pessoa física com a identidade informada" // Nova exceção
                    )
                : [];

            // Apenas adicionar no log se houver outras mensagens
            if (mensagens.length > 0) {
                results.push({
                    id: id,
                    mensagens: mensagens
                });
            }
        }

        // Salvar as mensagens filtradas no arquivo Folha.json
        fs.writeFileSync('Folha.json', JSON.stringify(results, null, 2));
        console.log('Mensagens filtradas e salvas em Folha.json');

    } catch (error) {
        console.error('Erro ao buscar os dados da API:', error);
    }
}

// Chamar a função passando o array de IDs
fetchAndSaveData(ids);